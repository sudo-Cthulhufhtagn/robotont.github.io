

<!DOCTYPE html>
<html class="writer-html4" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Demos on Gazebo &mdash; Robotont 0.0.1 documentation</title>
  

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />

  
  
  
  

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
        <script type="text/javascript" src="../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="prev" title="Demos on Robotont" href="demo_robot.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home" alt="Documentation Home"> Robotont
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="overview.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="setup.html">Setup</a></li>
<li class="toctree-l1"><a class="reference internal" href="sensors.html">Sensors</a></li>
<li class="toctree-l1"><a class="reference internal" href="teleop.html">Teleoperation</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="demos.html">Demos</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="demos_before_starting.html">Before starting</a></li>
<li class="toctree-l2"><a class="reference internal" href="demo_robot.html">Demos on Robotont</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Demos on Gazebo</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#launching-the-simulation">Launching the Simulation</a></li>
<li class="toctree-l3"><a class="reference internal" href="#worlds">Worlds</a></li>
<li class="toctree-l3"><a class="reference internal" href="#d-mapping">2D Mapping</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#setting-2d-navigation-goals">Setting 2D navigation goals</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#id2">3D mapping</a></li>
</ul>
</li>
</ul>
</li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Robotont</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="demos.html">Demos</a> &raquo;</li>
        
      <li>Demos on Gazebo</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/files/demo_gazebo.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="demos-on-gazebo">
<span id="id1"></span><h1>Demos on Gazebo<a class="headerlink" href="#demos-on-gazebo" title="Permalink to this headline">¶</a></h1>
<p>Before getting started see: <a class="reference internal" href="demos_before_starting.html#before-starting"><span class="std std-ref">Before starting</span></a>.</p>
<p>The following packages are needed to run the demos:</p>
<ol class="arabic">
<li><p class="first">For 2D mapping:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo apt update
sudo apt install ros-melodic-depthimage-to-laserscan
sudo apt install ros-melodic-cartographer-ros
sudo apt install ros-melodic-move-base
</pre></div>
</div>
</li>
<li><p class="first">For 3D mapping:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo apt install ros-melodic-rtabmap-ros
</pre></div>
</div>
</li>
<li><p class="first">For AR tracking:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo apt install ros-melodic-ar-track-alvar
</pre></div>
</div>
</li>
</ol>
<div class="section" id="launching-the-simulation">
<h2>Launching the Simulation<a class="headerlink" href="#launching-the-simulation" title="Permalink to this headline">¶</a></h2>
<ol class="arabic">
<li><p class="first">To launch the simulator:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>roslaunch robotont_gazebo gazebo.launch
</pre></div>
</div>
</li>
</ol>
<p>The launch file has four arguments:</p>
<ul>
<li><p class="first">model - chooses between a model with NUC and realsense and a model without them</p>
<blockquote>
<div><ul class="simple">
<li>default: robotont_gazebo_nuc</li>
<li>options: robotont_gazebo_nuc, robotont_gazebo_basic</li>
</ul>
</div></blockquote>
</li>
<li><p class="first">world - chooses which world to use</p>
<blockquote>
<div><ul class="simple">
<li>default: empty.world</li>
<li>options: empty.world, minimaze.world, bangbang.world, between.world, colors.world</li>
</ul>
</div></blockquote>
</li>
<li><p class="first">x_pos - chooses x coordinate of the world, controls where the robot will spawn, default: 0</p>
</li>
<li><p class="first">driver_hack: chooses whether a driver_hack will be used or not, is necessary if the robot will turn very slowly while using the simulator</p>
<blockquote>
<div><ul class="simple">
<li>default: true</li>
<li>options: true, false</li>
</ul>
</div></blockquote>
</li>
</ul>
<p>For example, the following command will spawn the robot to a map called bangbang.world in position x=2,
the model that will be used is robotont_gazebo_nuc and driver_hack will be on.</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>roslaunch robotont_gazebo gazebo.launch world:<span class="o">=</span><span class="k">$(</span>rospack find robotont_gazebo<span class="k">)</span>/worlds/bangbang.world model:<span class="o">=</span>robotont_gazebo_nuc x_pos:<span class="o">=</span><span class="m">2</span> driver_hack:<span class="o">=</span><span class="nb">true</span>
</pre></div>
</div>
</div></blockquote>
</div>
<div class="section" id="worlds">
<h2>Worlds<a class="headerlink" href="#worlds" title="Permalink to this headline">¶</a></h2>
<ol class="arabic">
<li><p class="first">minimaze.world</p>
<a class="reference internal image-reference" href="../_images/maze.png"><img alt="../_images/maze.png" src="../_images/maze.png" style="width: 400px;" /></a>
<p>To run</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>roslaunch robotont_gazebo world_minimaze.launch
</pre></div>
</div>
</li>
<li><p class="first">bangbang.world</p>
<a class="reference internal image-reference" href="../_images/bangbang.png"><img alt="../_images/bangbang.png" src="../_images/bangbang.png" style="width: 400px;" /></a>
<p>To run</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>roslaunch robotont_gazebo world_bangbang.launch
</pre></div>
</div>
</li>
<li><p class="first">between.world</p>
<a class="reference internal image-reference" href="../_images/between.png"><img alt="../_images/between.png" src="../_images/between.png" style="width: 400px;" /></a>
<p>To run</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>roslaunch robotont_gazebo world_between.launch
</pre></div>
</div>
</li>
<li><p class="first">colors.world</p>
<a class="reference internal image-reference" href="../_images/colors.png"><img alt="../_images/colors.png" src="../_images/colors.png" style="width: 400px;" /></a>
<p>To run</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>roslaunch robotont_gazebo world_colors.launch
</pre></div>
</div>
</li>
</ol>
</div>
<div class="section" id="d-mapping">
<h2>2D Mapping<a class="headerlink" href="#d-mapping" title="Permalink to this headline">¶</a></h2>
<p>Uses Cartographer to create a 2D map of the robot’s surroundings.</p>
<ol class="arabic">
<li><p class="first">Launch the simulator</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>roslaunch robotont_gazebo world_minimaze.launch
</pre></div>
</div>
</li>
<li><p class="first">Launch teleop keyboard</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>roslaunch robotont_demos teleop_keyboard.launch
</pre></div>
</div>
</li>
<li><p class="first">Launch 2d_slam.launch</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>roslaunch robotont_demos 2d_slam.launch
</pre></div>
</div>
</li>
<li><p class="first">Display the map on RViz</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>roslaunch robotont_demos 2d_slam_display.launch
</pre></div>
</div>
</li>
</ol>
<div class="section" id="setting-2d-navigation-goals">
<h3>Setting 2D navigation goals<a class="headerlink" href="#setting-2d-navigation-goals" title="Permalink to this headline">¶</a></h3>
<ol class="arabic">
<li><p class="first">Using the navstack in ROS is very straightforward, you tell the robot where it is (if it doesnt already know) and where it needs to go.</p>
</li>
<li><p class="first">For setting initial pose, click on 2D Pose Estimate and drag the arrow where and how the robot actually is.</p>
<a class="reference internal image-reference" href="../_images/poseestimatearrow.png"><img alt="../_images/poseestimatearrow.png" src="../_images/poseestimatearrow.png" style="width: 400px;" /></a>
</li>
<li><p class="first">To tell the robot where to go, click on 2D Nav Goal
and drag the arrow to where you want the robot to go
and which way does it have to face.</p>
</li>
</ol>
<blockquote>
<div><a class="reference internal image-reference" href="../_images/2dnavgoalarrow.png"><img alt="../_images/2dnavgoalarrow.png" src="../_images/2dnavgoalarrow.png" style="width: 400px;" /></a>
</div></blockquote>
</div>
</div>
<div class="section" id="id2">
<h2>3D mapping<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h2>
<p>Creates a 3D map of the robot’s surroundings.</p>
<ol class="arabic">
<li><p class="first">Launch the simulator</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>roslaunch robotont_gazebo world_colors.launch
</pre></div>
</div>
</li>
<li><p class="first">Launch 3d_mapping.launch</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>roslaunch robotont_demos 3d_mapping.launch
</pre></div>
</div>
</li>
<li><p class="first">Launch 3d_mapping_display.launch to visualize the result</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>roslaunch robotont_demos 3d_mapping_display.launch
</pre></div>
</div>
</li>
<li><p class="first">To move the robot open another terminal window and run teleop twist keyboard</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>rosrun robotont_demos teleop_keyboard.launch
</pre></div>
</div>
<div class="admonition hint">
<p class="first admonition-title">Hint</p>
<p class="last">Notice that the teleop node only receives keypresses when the terminal window is active.</p>
</div>
</li>
</ol>
<blockquote>
<div><a class="reference internal image-reference" href="../_images/3d_mapping_gazebo.png"><img alt="../_images/3d_mapping_gazebo.png" src="../_images/3d_mapping_gazebo.png" style="width: 400px;" /></a>
</div></blockquote>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
      
        <a href="demo_robot.html" class="btn btn-neutral float-left" title="Demos on Robotont" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2020, M

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>